"use strict";(self.webpackChunkdocs_website=self.webpackChunkdocs_website||[]).push([[1716],{5162:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(7294),r=a(6010);const l={tabItem:"tabItem_Ymn6"};function o(e){let{children:t,hidden:a,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l.tabItem,o),hidden:a},t)}},4866:(e,t,a)=>{a.d(t,{Z:()=>N});var n=a(7462),r=a(7294),l=a(6010),o=a(2466),s=a(6550),i=a(1980),u=a(7392),c=a(12);function p(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function d(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??p(a);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function m(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function k(e){let{queryString:t=!1,groupId:a}=e;const n=(0,s.k6)(),l=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,i._X)(l),(0,r.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(n.location.search);t.set(l,e),n.replace({...n.location,search:t.toString()})}),[l,n])]}function g(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,l=d(e),[o,s]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:l}))),[i,u]=k({queryString:a,groupId:n}),[p,g]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,l]=(0,c.Nk)(a);return[n,(0,r.useCallback)((e=>{a&&l.set(e)}),[a,l])]}({groupId:n}),h=(()=>{const e=i??p;return m({value:e,tabValues:l})?e:null})();(0,r.useLayoutEffect)((()=>{h&&s(h)}),[h]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);s(e),u(e),g(e)}),[u,g,l]),tabValues:l}}var h=a(2389);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function f(e){let{className:t,block:a,selectedValue:s,selectValue:i,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,o.o5)(),d=e=>{const t=e.currentTarget,a=c.indexOf(t),n=u[a].value;n!==s&&(p(t),i(n))},m=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=c.indexOf(e.currentTarget)+1;t=c[a]??c[0];break}case"ArrowLeft":{const a=c.indexOf(e.currentTarget)-1;t=c[a]??c[c.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},t)},u.map((e=>{let{value:t,label:a,attributes:o}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>c.push(e),onKeyDown:m,onClick:d},o,{className:(0,l.Z)("tabs__item",b.tabItem,o?.className,{"tabs__item--active":s===t})}),a??t)})))}function v(e){let{lazy:t,children:a,selectedValue:n}=e;const l=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function y(e){const t=g(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",b.tabList)},r.createElement(f,(0,n.Z)({},e,t)),r.createElement(v,(0,n.Z)({},e,t)))}function N(e){const t=(0,h.Z)();return r.createElement(y,(0,n.Z)({key:String(t)},e))}},168:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>k,frontMatter:()=>s,metadata:()=>u,toc:()=>p});var n=a(7462),r=(a(7294),a(3905)),l=a(4866),o=a(5162);a(4464);const s={sidebar_label:"Prerequisites",sidebar_position:1},i="Gear Examples",u={unversionedId:"examples/prerequisites",id:"examples/prerequisites",title:"Gear Examples",description:"Gear provides a set of examples that can be used for your familiarization with writing programs on Gear or become the basis for your own dApp//github.com/gear-dapps.",source:"@site/docs/examples/prerequisites.mdx",sourceDirName:"examples",slug:"/examples/prerequisites",permalink:"/docs/examples/prerequisites",draft:!1,editUrl:"https://github.com/gear-tech/wiki/edit/master/docs/examples/prerequisites.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Prerequisites",sidebar_position:1},sidebar:"docs",previous:{title:"Gear fungible token standard",permalink:"/docs/developing-contracts/token-standards/gft20"},next:{title:"PING-PONG",permalink:"/docs/examples/ping"}},c={},p=[{value:"Stable environment",id:"stable-environment",level:2},{value:"First steps",id:"first-steps",level:2},{value:"Building Rust Contract",id:"building-rust-contract",level:2},{value:"Using Docker",id:"using-docker",level:2}],d={toc:p},m="wrapper";function k(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"gear-examples"},"Gear Examples"),(0,r.kt)("p",null,"Gear provides a set of examples that can be used for your familiarization with writing programs on Gear or become the basis for your own dApp: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/gear-dapps"},"https://github.com/gear-dapps"),"."),(0,r.kt)("p",null,"You can write your own smart contract or try to build from examples. Let's Rock!"),(0,r.kt)("h2",{id:"stable-environment"},"Stable environment"),(0,r.kt)("p",null,"All smart contract examples and JS applications have been tested on a stable environment that consists of specific development tool versions necessary for implementing, building and running smart contracts and JS applications."),(0,r.kt)("p",null,"You may configure a local development environment according to the information provided below or use a pre-configured Docker image as described in the ",(0,r.kt)("a",{parentName:"p",href:"#using-docker"},"Using Docker")," section."),(0,r.kt)("p",null,"Current stable release: ",(0,r.kt)("inlineCode",{parentName:"p"},"v1.1")),(0,r.kt)("table",null,(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("b",null," Compiler Tools"),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",(0,r.kt)("img",{width:"800"}))," ",(0,r.kt)("td",null,(0,r.kt)("b",null," Version "))," ",(0,r.kt)("td",null,(0,r.kt)("b",null," How to install / access "))),(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("p",null,"Linux users should generally install ",(0,r.kt)("inlineCode",{parentName:"p"},"GCC")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Clang"),", according to their distribution\u2019s documentation.")),(0,r.kt)("td",null,"Latest"),(0,r.kt)("td",null,"For example, on Ubuntu use:",(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install -y build-essential clang cmake\n")),(0,r.kt)("p",null,"On macOS, you can get a compiler toolset by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"xcode-select --install\n")))),(0,r.kt)("tr",null,(0,r.kt)("td",null," Rust "),(0,r.kt)("td",null," 2023-04-25 "),(0,r.kt)("td",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n")),(0,r.kt)("p",null,"Add Wasm target to your toolchain:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"rustup toolchain add nightly\nrustup target add wasm32-unknown-unknown --toolchain nightly\n")))),(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("p",null,"Gear Rust libraries: ",(0,r.kt)("inlineCode",{parentName:"p"},"gstd"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"gtest"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"gmeta"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"gclient"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"gear-wasm-builder"))),(0,r.kt)("td",null,(0,r.kt)("p",null,"commit hash: ",(0,r.kt)("inlineCode",{parentName:"p"},"78dfa07"))),(0,r.kt)("td",null,(0,r.kt)("p",null,"Make sure the correct commit hash version is specified in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Cargo.toml")," file of the smart contract you're working on. For example:\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/gear-dapps/app/blob/master/Cargo.toml#L10"},"https://github.com/gear-dapps/app/blob/master/Cargo.toml#L10")))),(0,r.kt)("tr",null,(0,r.kt)("td",null,"Vara Stable Testnet"),(0,r.kt)("td",null,"160"),(0,r.kt)("td",null,"Make sure you are connected to the Vara Stable Testnet. You may switch the network by clicking on the network name in the https://idea.gear-tech.io"))),(0,r.kt)("table",null,(0,r.kt)("tr",null,(0,r.kt)("td",null,(0,r.kt)("b",null,"Gear JS Tools")),(0,r.kt)("td",null,(0,r.kt)("b",null,"Version")),(0,r.kt)("td",null,(0,r.kt)("b",null,"How to install / access"))),(0,r.kt)("tr",null,(0,r.kt)("td",null,"Gear JS API"),(0,r.kt)("td",null,"0.31.2"),(0,r.kt)("td",null,"Make sure this version is specified in the package.json file of your smart contract repository")),(0,r.kt)("tr",null,(0,r.kt)("td",null,"Gear JS React Hooks"),(0,r.kt)("td",null,"0.5.18"),(0,r.kt)("td",null,"Make sure this version is specified in the package.json file of your smart contract repository")),(0,r.kt)("tr",null,(0,r.kt)("td",null,"Gear JS UI Kit"),(0,r.kt)("td",null,"0.5.18"),(0,r.kt)("td",null,"Make sure this version is specified in the package.json file of your smart contract repository"))),(0,r.kt)("admonition",{title:"Note",type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"Windows users may encounter some problems related to the installation of Rust components and dependencies.\nIt is highly recommended to use Linux or macOS for compiling Gear node and smart-contracts.")),(0,r.kt)("h2",{id:"first-steps"},"First steps"),(0,r.kt)("p",null,"To create our app project use the command ",(0,r.kt)("strong",{parentName:"p"},"cargo"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cargo new gear-app --lib\n")),(0,r.kt)("p",null,"The project structure is following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"  \u2514\u2500\u2500 gear-app // Your contract dir\n      \u2502\n      \u251c\u2500\u2500 src // Source files of your program\n      \u2502    \u251c\u2500\u2500 maybe_some_file.rs // Additional module if needed\n      \u2502    \u2514\u2500\u2500 lib.rs // Main file of your program\n      \u2502\n      \u2514\u2500\u2500 Cargo.toml // Manifest of your program\n")),(0,r.kt)("p",null,"Create file ",(0,r.kt)("inlineCode",{parentName:"p"},"build.rs")," with the following code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},"fn main() {\n    gear_wasm_builder::build();\n}\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Cargo.toml")," is a project manifest in Rust, it contains all metadata necessary for compiling the project.\nConfigure the ",(0,r.kt)("inlineCode",{parentName:"p"},"Cargo.toml")," similarly to how it is configured ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/gear-dapps/ping/blob/master/Cargo.toml"},"ping/Cargo.toml"),". You can refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/getting-started-in-5-minutes"},"Getting Started")," for additional details."),(0,r.kt)("h2",{id:"building-rust-contract"},"Building Rust Contract"),(0,r.kt)("p",null,"We should compile our smart contract in the app folder:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cargo build --release\n")),(0,r.kt)("p",null,"Our application should compile successfully and the final file ",(0,r.kt)("inlineCode",{parentName:"p"},"target/wasm32-unknown-unknown/release/gear-app.wasm")," should appear."),(0,r.kt)("h2",{id:"using-docker"},"Using Docker"),(0,r.kt)("p",null,"You can use a pre-configured Docker image to build and test your smart contract. The image contains all the necessary tools and dependencies for building and running smart contracts and JS applications."),(0,r.kt)("p",null,"The source code of the image is available on ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/gear-dapps/gear-env"},"GitHub"),"."),(0,r.kt)("p",null,"To use the image, you need to install Docker on your machine. You can find the installation instructions for your OS on the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/get-docker/"},"Docker website"),"."),(0,r.kt)("p",null,"After installing Docker, you can pull the image from the Docker Hub:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker pull ghcr.io/gear-dapps/gear-env:stable\n")),(0,r.kt)("p",null,"To run the image, use the following command:"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"linux-mac",label:"Linux / macOS x86_64",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker run --rm --name gear-env -itd ghcr.io/gear-dapps/gear-env:stable bash\n"))),(0,r.kt)(o.Z,{value:"mac-arm",label:"macOS ARM",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker run --rm --name gear-env --platform linux/amd64 -itd ghcr.io/gear-dapps/gear-env:stable bash\n")))),(0,r.kt)("p",null,"The command will run the image in the background and give you access to the container's shell. You can use the following command to access the container's shell:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker exec -it gear-env bash\n")),(0,r.kt)("p",null,"Copy a smart contract to be built to the container (here we use the ",(0,r.kt)("inlineCode",{parentName:"p"},"gear-app")," created above):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker cp ./gear-app gear-env:/root\n")),(0,r.kt)("p",null,"After that, you can build the smart contract:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker exec -itw /root/gear-app gear-env cargo build --release\n")),(0,r.kt)("p",null,"The compiled smart contract will be available in the ",(0,r.kt)("inlineCode",{parentName:"p"},"target/wasm32-unknown-unknown/release")," folder inside the container. Copy it to your local machine:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"docker cp gear-env:/root/gear-app/target/wasm32-unknown-unknown/release/. ./\n")),(0,r.kt)("p",null,"Stop the Docker container after using:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"docker stop gear-env\n")))}k.isMDXComponent=!0}}]);